<template>
	<nav class="navbar" v-bind:class="{ hide: !show }">
		<div class="navbar__logo">
			<div class="navbar__button" @click="show = !show"></div>
			<img src="../assets/logo.svg" alt="">
		</div>
		<ul class="navbar__nav-list">
			<li class="navbar__nav-item" @click="hideOrNot">
				<nuxt-link exact to="/">
					<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
						<rect width="20" height="20" fill="white"/>
						<path d="M19 4H14.6667V2.66667C14.6655 1.74658 13.9201 1.00114 13 1H7C6.07992 1.00114 5.33447 1.74658 5.33333 2.66667V4H1C0.447754 4 0 4.44775 0 5V12.4199C0.00211588 12.8428 0.268555 13.2189 0.666667 13.361V18C0.666667 18.5522 1.11442 19 1.66667 19H18.3333C18.8856 19 19.3333 18.5522 19.3333 18V13.3613C19.7314 13.2191 19.998 12.8428 20 12.4199V5C20 4.44775 19.5522 4 19 4ZM6 2.66667C6 2.11442 6.44775 1.66667 7 1.66667H13C13.5522 1.66667 14 2.11442 14 2.66667V4H13.3333V2.66667C13.3333 2.48258 13.1841 2.33333 13 2.33333H7C6.81592 2.33333 6.66667 2.48258 6.66667 2.66667V4H6V2.66667ZM12.6667 4H7.33333V3H12.6667V4ZM18.6667 18C18.6667 18.1841 18.5174 18.3333 18.3333 18.3333H1.66667C1.48258 18.3333 1.33333 18.1841 1.33333 18V13.4756L8.66667 14.487V15.3333C8.66667 15.8856 9.11442 16.3333 9.66667 16.3333H10.3333C10.8856 16.3333 11.3333 15.8856 11.3333 15.3333V14.487L18.6667 13.4756V18ZM10.6667 15.3333C10.6667 15.5174 10.5174 15.6667 10.3333 15.6667H9.66667C9.48258 15.6667 9.33333 15.5174 9.33333 15.3333V13.3333C9.33333 13.1493 9.48258 13 9.66667 13H10.3333C10.5174 13 10.6667 13.1493 10.6667 13.3333V15.3333ZM19.3333 12.4199C19.3335 12.5861 19.2113 12.7271 19.0467 12.7503L18.9543 12.763L11.3333 13.814V13.3333C11.3333 12.7811 10.8856 12.3333 10.3333 12.3333H9.66667C9.11442 12.3333 8.66667 12.7811 8.66667 13.3333V13.814L0.953613 12.7503C0.789062 12.7272 0.666504 12.5863 0.666667 12.4199V5C0.666667 4.81592 0.815918 4.66667 1 4.66667H19C19.1841 4.66667 19.3333 4.81592 19.3333 5V12.4199Z" fill="#303136"/>
					</svg>
					<span>Мой профиль</span>
				</nuxt-link>
			</li>
			<li class="navbar__nav-item" @click="hideOrNot">
				<nuxt-link to="/todos" >
					<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M18.4702 6.79707L14.3844 5.24845C14.598 4.65426 14.663 4.01861 14.5739 3.39478C14.4848 2.77094 14.2441 2.17711 13.8721 1.66306C13.5001 1.14902 13.0075 0.729736 12.4357 0.440374C11.864 0.151011 11.2296 0 10.5859 0C9.94223 0 9.3079 0.151011 8.73613 0.440374C8.16436 0.729736 7.67182 1.14902 7.29979 1.66306C6.92776 2.17711 6.68709 2.77094 6.59796 3.39478C6.50883 4.01861 6.57383 4.65426 6.78751 5.24845L2.70171 6.79707C2.61924 6.82856 2.5484 6.88367 2.49847 6.95521C2.44854 7.02675 2.42184 7.11137 2.42188 7.198V16.4721C2.42185 16.5588 2.44863 16.6436 2.49871 16.7152C2.54878 16.7867 2.61981 16.8419 2.70247 16.8732L10.4269 19.8033C10.4777 19.8225 10.5316 19.8323 10.5859 19.8323C10.6398 19.8313 10.6929 19.8204 10.7427 19.8004L10.7449 19.8033L18.4702 16.8732C18.5527 16.8417 18.6235 16.7866 18.6735 16.715C18.7234 16.6434 18.7501 16.5587 18.75 16.4721V7.198C18.75 7.11137 18.7233 7.02675 18.6734 6.95521C18.6235 6.88367 18.5526 6.82856 18.4702 6.79707ZM17.0948 7.198L15.6688 7.73879L13.3054 6.84894C13.5747 6.60652 13.8091 6.32951 14.0023 6.02547L17.0948 7.198ZM12.4408 7.44529L14.4504 8.20166L13.3157 8.63183L11.2343 7.83613C11.6552 7.76961 12.0625 7.63766 12.4408 7.44529ZM13.8086 9.3673L15.2849 8.80734V10.5996L15.038 10.442C14.9516 10.387 14.8482 10.3634 14.7459 10.3753C14.6436 10.3873 14.5488 10.434 14.4781 10.5074L13.8086 11.2026V9.3673ZM10.5859 0.871239C11.2085 0.871239 11.817 1.05188 12.3346 1.39032C12.8522 1.72876 13.2557 2.2098 13.4939 2.7726C13.7321 3.33541 13.7945 3.9547 13.673 4.55217C13.5516 5.14965 13.2518 5.69846 12.8116 6.12921C12.3714 6.55996 11.8106 6.85331 11.2 6.97215C10.5894 7.091 9.95656 7.03 9.38142 6.79688C8.80628 6.56376 8.31469 6.16898 7.96884 5.66247C7.62298 5.15596 7.43838 4.56046 7.43838 3.95129C7.43931 3.13469 7.77122 2.35179 8.3613 1.77437C8.95138 1.19695 9.75144 0.87215 10.5859 0.871239ZM7.42079 6.37747L6.83248 6.15255L7.16934 6.02473C7.24652 6.14694 7.33047 6.26494 7.42079 6.37821V6.37747ZM5.61993 6.61247L12.1019 9.09199L10.5859 9.66695L4.07704 7.198L5.61993 6.61247ZM3.30108 16.1773V7.8263L10.1463 10.4231V18.7741L3.30108 16.1773ZM11.0255 18.7741V10.4231L12.9294 9.70038V12.2866C12.9294 12.3728 12.9559 12.4569 13.0054 12.5282C13.0549 12.5994 13.1251 12.6545 13.207 12.6863C13.2585 12.7065 13.3135 12.7168 13.369 12.7168C13.429 12.7168 13.4883 12.7048 13.5433 12.6816C13.5983 12.6583 13.6479 12.6243 13.689 12.5816L14.8659 11.3591L15.4846 11.7524C15.5509 11.7944 15.6276 11.8181 15.7065 11.821C15.7854 11.824 15.8636 11.8061 15.933 11.7692C16.0024 11.7323 16.0604 11.6779 16.1008 11.6115C16.1413 11.5451 16.1627 11.4693 16.1629 11.3921V8.47377L17.8708 7.8263V16.1773L11.0255 18.7741Z" fill="#303136"/>
						<path d="M9.80295 5.21725C9.88403 5.2844 9.98722 5.32054 10.0934 5.31901C10.1996 5.31747 10.3017 5.27836 10.3807 5.20889L12.5127 3.33382C12.5578 3.29669 12.5949 3.25105 12.6217 3.1996C12.6485 3.14815 12.6644 3.09196 12.6685 3.03436C12.6726 2.97677 12.6648 2.91896 12.6456 2.86437C12.6264 2.80978 12.5962 2.75953 12.5567 2.71662C12.5172 2.67371 12.4693 2.63901 12.4159 2.61459C12.3624 2.59017 12.3045 2.57653 12.2455 2.57449C12.1866 2.57244 12.1278 2.58203 12.0727 2.60268C12.0176 2.62334 11.9673 2.65463 11.9248 2.6947L10.078 4.31929L9.23699 3.62363C9.14795 3.54997 9.03265 3.51393 8.91646 3.52345C8.80026 3.53296 8.69269 3.58726 8.61741 3.67439C8.54212 3.76153 8.50529 3.87435 8.51502 3.98806C8.52475 4.10176 8.58024 4.20703 8.66928 4.2807L9.80295 5.21725Z" fill="#303136"/>
					</svg>
					<span>Список задач</span>
				</nuxt-link>
			</li>
			<li class="navbar__nav-item" @click="hideOrNot">
				<nuxt-link to="/stats">
					<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M13.5156 12.4609C13.2999 12.4609 13.125 12.6358 13.125 12.8516V15.5469C13.125 16.6238 12.2488 17.5 11.1719 17.5H6.95437C6.73871 17.5 6.56391 17.6747 6.56375 17.8904L6.5632 18.667L5.63086 17.7347C5.57051 17.5961 5.43238 17.5 5.27262 17.5H2.73438C1.65742 17.5 0.78125 16.6238 0.78125 15.5469V9.53125C0.78125 8.4543 1.65742 7.57812 2.73438 7.57812H6.67969C6.89539 7.57812 7.07031 7.40324 7.07031 7.1875C7.07031 6.97176 6.89539 6.79688 6.67969 6.79688H2.73438C1.22664 6.79688 0 8.02352 0 9.53125V15.5469C0 17.0546 1.22664 18.2812 2.73438 18.2812H5.07258L6.67691 19.8856C6.75164 19.9603 6.85152 20 6.9532 20C7.00348 20 7.05422 19.9903 7.10246 19.9703C7.24844 19.9099 7.34363 19.7676 7.34375 19.6096L7.34469 18.2812H11.1719C12.6796 18.2812 13.9062 17.0546 13.9062 15.5469V12.8516C13.9062 12.6358 13.7313 12.4609 13.5156 12.4609Z" fill="black"/>
						<path d="M14.3225 0H13.3338C10.2032 0 7.65625 2.54695 7.65625 5.67758C7.65625 8.8082 10.2032 11.3551 13.3338 11.3551H14.3224C14.8111 11.3551 15.2947 11.293 15.7634 11.1704L17.2239 12.63C17.2986 12.7046 17.3984 12.7443 17.5001 12.7443C17.5504 12.7443 17.6012 12.7346 17.6495 12.7146C17.7955 12.6541 17.8906 12.5117 17.8906 12.3537V10.0937C18.5089 9.59297 19.0226 8.96043 19.383 8.25379C19.7925 7.45121 20 6.58445 20 5.67758C20 2.54695 17.453 0 14.3225 0ZM17.265 9.59121C17.167 9.665 17.1094 9.78055 17.1094 9.90324V11.4111L16.1535 10.4557C16.0791 10.3814 15.9793 10.3413 15.8773 10.3413C15.839 10.3413 15.8004 10.347 15.7626 10.3586C15.2977 10.5015 14.8131 10.5739 14.3225 10.5739H13.3338C10.6339 10.5739 8.4375 8.37742 8.4375 5.67758C8.4375 2.97773 10.634 0.78125 13.3338 0.78125H14.3225C17.0223 0.78125 19.2188 2.97773 19.2188 5.67758C19.2188 7.22957 18.5066 8.65605 17.265 9.59121Z" fill="black"/>
						<path d="M15.5872 4.27423C15.5309 3.45646 14.8717 2.79724 14.0538 2.74087C13.5903 2.70904 13.1478 2.8654 12.8092 3.18154C12.4752 3.49329 12.2837 3.934 12.2837 4.39068C12.2837 4.60642 12.4586 4.7813 12.6743 4.7813C12.89 4.7813 13.0649 4.60642 13.0649 4.39068C13.0649 4.14619 13.1635 3.91958 13.3423 3.75267C13.521 3.58591 13.7545 3.50337 14.0002 3.52033C14.431 3.55001 14.7782 3.89724 14.8079 4.32798C14.8379 4.76302 14.5524 5.14747 14.1292 5.24216C13.7863 5.31888 13.5469 5.61685 13.5469 5.96673V6.90521C13.5469 7.12095 13.7218 7.29583 13.9375 7.29583C14.1533 7.29583 14.3281 7.12095 14.3281 6.90521V5.99794C15.1152 5.80779 15.6433 5.08755 15.5872 4.27423Z" fill="black"/>
						<path d="M14.2137 8.17415C14.141 8.10149 14.0402 8.05969 13.9375 8.05969C13.8348 8.05969 13.734 8.10149 13.6613 8.17415C13.5887 8.2468 13.5469 8.34758 13.5469 8.45032C13.5469 8.55344 13.5887 8.65422 13.6613 8.72688C13.734 8.79954 13.8348 8.84094 13.9375 8.84094C14.0402 8.84094 14.141 8.79954 14.2137 8.72688C14.2863 8.65383 14.3281 8.55344 14.3281 8.45032C14.3281 8.34758 14.2863 8.2468 14.2137 8.17415Z" fill="black"/>
						<path d="M10.7422 12.1094H2.5C2.2843 12.1094 2.10938 12.2843 2.10938 12.5C2.10938 12.7157 2.2843 12.8906 2.5 12.8906H10.7422C10.9579 12.8906 11.1328 12.7157 11.1328 12.5C11.1328 12.2843 10.9579 12.1094 10.7422 12.1094Z" fill="black"/>
						<path d="M11.0183 14.4113C10.9457 14.3387 10.8449 14.2969 10.7422 14.2969C10.6395 14.2969 10.5387 14.3387 10.466 14.4113C10.3933 14.484 10.3516 14.5848 10.3516 14.6875C10.3516 14.7902 10.3934 14.891 10.466 14.9637C10.5387 15.0363 10.6395 15.0781 10.7422 15.0781C10.8449 15.0781 10.9457 15.0363 11.0183 14.9637C11.091 14.891 11.1328 14.7906 11.1328 14.6875C11.1328 14.5848 11.091 14.484 11.0183 14.4113Z" fill="black"/>
						<path d="M9.20574 14.2969H2.5C2.2843 14.2969 2.10938 14.4718 2.10938 14.6875C2.10938 14.9032 2.2843 15.0781 2.5 15.0781H9.20574C9.42149 15.0781 9.59637 14.9032 9.59637 14.6875C9.59637 14.4718 9.42145 14.2969 9.20574 14.2969Z" fill="black"/>
						<path d="M8.20312 9.92188H2.5C2.2843 9.92188 2.10938 10.0968 2.10938 10.3125C2.10938 10.5282 2.2843 10.7031 2.5 10.7031H8.20312C8.41887 10.7031 8.59375 10.5282 8.59375 10.3125C8.59375 10.0968 8.41883 9.92188 8.20312 9.92188Z" fill="black"/>
					</svg>
					<span>Статистика</span>
				</nuxt-link>
			</li>
		</ul>
		<div class="navbar__arrow" @click="show ? show = false : show = true">
			<img src="../assets/arrow.svg" alt="">
		</div>
		<div class="navbar__logout" @click="logout">
			<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M2.1428 20L11.4285 20C12.612 20 13.5714 19.0406 13.5714 17.8571L13.5714 13.5714C13.5714 13.1769 13.2516 12.8571 12.8571 12.8571C12.4626 12.8571 12.1428 13.1769 12.1428 13.5714L12.1428 17.8571C12.1428 18.2516 11.823 18.5714 11.4285 18.5714L2.14276 18.5714C1.74825 18.5714 1.42846 18.2516 1.42846 17.8571L1.42846 2.14286C1.42846 1.74835 1.74825 1.42856 2.14276 1.42856L11.4285 1.42856C11.8231 1.42856 12.1428 1.74835 12.1428 2.14286L12.1428 6.42857C12.1428 6.82307 12.4626 7.14287 12.8571 7.14287C13.2517 7.14287 13.5715 6.82307 13.5715 6.42857L13.5715 2.14286C13.5715 0.959389 12.6121 -8.38726e-08 11.4286 -1.87335e-07L2.14284 -9.99121e-07C0.95937 -1.10258e-06 -1.93163e-05 0.959388 -1.94197e-05 2.14286L-2.07935e-05 17.8571C-6.28586e-05 19.0406 0.959327 20 2.1428 20Z" fill="#6F849C"/>
				<path d="M5.71442 10.7143L17.5615 10.7143L15.2094 13.0665C14.9353 13.3502 14.9432 13.8024 15.227 14.0765C15.5038 14.3438 15.9426 14.3438 16.2194 14.0765L19.7908 10.505C19.8572 10.4387 19.9096 10.3598 19.9451 10.2729C20.0173 10.0981 20.0173 9.9019 19.9451 9.72717C19.9094 9.63999 19.8567 9.56084 19.7901 9.4943L16.2187 5.92288C15.9446 5.63912 15.4925 5.63125 15.2087 5.90531C14.9249 6.17936 14.9171 6.63153 15.1911 6.91529C15.1969 6.92124 15.2027 6.9271 15.2087 6.93287L17.5615 9.28575L5.71438 9.28575C5.31988 9.28575 5.00008 9.60554 5.00008 10C5.00008 10.3945 5.31992 10.7143 5.71442 10.7143Z" fill="#6F849C"/>
			</svg>
			<span>Выйти</span>
		</div>
	</nav>
</div>
</template>

<script>
	export default {
		methods: {
			hideOrNot() {
				if (window.innerWidth <= 414) {
					this.show = !this.show;
				}
			},
			logout() {
				this.$store.dispatch('account/switchStatus', false);
				this.$router.push('/login')
			}
		},
		data() {
			return {
				show: false,
				
			}
		}
	}
</script>

<style lang="less">
	.navbar{
		background: #fff;
		padding: 24px 0 0 56px;
		max-width: 256px;
		width: 100%;
		position: relative;
		height: 100vh;
		box-sizing: border-box;
		transition: max-width 0.3s ease;
		.navbar__logo{
			margin-bottom: 36px;
			.navbar__button{
				display: none;
			}
			img{
				width: 80px;
				height: 20px;
			}
		}
		.navbar__nav-list{
			list-style: none;
			.navbar__nav-item{
				font-weight: 500;
				font-size: 14px;
				line-height: 20px;
				cursor: pointer;
				display:flex;
				align-items:center;
				margin-bottom: 24px;
				a{
					list-style: none;
					text-decoration: none;
					color: #303136;
					display: flex;
					align-items: center;
				}
				.nuxt-link-active{
					svg path {
						fill: #BD0D22;
					}
				}
				svg{
					margin-right: 8px;
				}
			}
		}
		.navbar__arrow{
			cursor: pointer;
			width: 40px;
			height: 40px;
			position: absolute;
			z-index: 5;
			top: 0;
			right: 0;
			display: flex;
			justify-content: center;
			align-items: center;
			box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.15);
			border-radius: 100%;
			transform: translateX(50%);
			background: #fff;
			margin-top: 12px;
		}
		.navbar__logout{
			position: fixed;
			cursor: pointer;
			bottom: 30px;
			left: 23px;
			display: flex;
			align-items: center;
			font-style: normal;
			font-weight: 500;
			font-size: 14px;
			line-height: 20px;
			span{
				margin-left: 30px;
			}
		}
	}

	@media(min-width: 415px) {
		.navbar.hide{
			padding: 50px 0 0 7px;
			max-width: 35px;
			span{
				display: none;
			}
			.navbar__logo img{
				width: 16px;
				object-fit: cover;
			}
			.navbar__arrow img{
				transform: rotate(180deg);
			}
			.navbar__logout{
				left: 10px;
			}
		}
	}

	@media(max-width: 414px){
		.navbar{
			position: fixed;
			z-index: 100;
			height: auto;
			max-width: 100%;
			width: 100%;
			padding: 22px 0 22px 22px;
			.navbar__arrow{
				display: none;
			}
			.navbar__logo{
				display: flex;
				align-items: center;
				margin: 0 0 15px 0;
				.navbar__button{
					display: inline-block;
					height: 10px;
					width: 20px;
					border-top: 2px solid #BD0D22;
					border-bottom: 2px solid #BD0D22;
					margin-right: 46px;
				}
			}
			.navbar__nav-list{
				height: auto;
				visibility: visible;
			}
			.navbar__logout{
				top: 20px;
				left: unset;
				right: 20px;
				display: inline-block;
				width: 20px;
				span {
					display: none;
				}

			}
		}

		.navbar.hide{
			.navbar__nav-list{
				height: 0;
				visibility: hidden;
			}
			.navbar__logo{
				margin: 0
			}
		}
	}
</style>
